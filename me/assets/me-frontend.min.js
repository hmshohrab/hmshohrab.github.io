function callReconfigure(e){bKash.reconfigure(e)}function clickPayButton(){$("#bKash_button").length>0&&$("#bKash_button").trigger("click")}!function(e){"use strict";var t,a=null,o=null,n={current_step:0,current_form_serialize_data:null,current_form_serialize_array_data:[]},i=e('[name="od_biodata_edit_form"]'),d=[],s=!1,r=!1,l="",c={mobile_number:"",country_code:"",email_address:""},p="",f=i.find(".od-biodata-form-content.active"),u={biodata_purchase_action:!1,biodata_search_with_ajax:!1},h=[],m=0,_=!1,g=function(){return'<div class="od-overlay">','<div class="od-overlay__inner">','<div class="od-overlay__content"><span class="od-overlay-spinner"></span></div>',"</div>","</div>",'<div class="od-overlay"><div class="od-overlay__inner"><div class="od-overlay__content"><span class="od-overlay-spinner"></span></div></div></div>'},v="";e("body").on("contextmenu",(function(e){return!1})),e("body").bind("cut copy",(function(e){e.preventDefault()})),e("#default_data").length>0&&(a=JSON.parse(document.getElementById("default_data").innerHTML)),e("#frontend_lang_data").length>0&&(o=JSON.parse(document.getElementById("frontend_lang_data").innerHTML)),e("#json__shortlist").length>0&&(t=JSON.parse(document.getElementById("json__shortlist").innerHTML)),e("#json__ignorelist").length>0&&(h=JSON.parse(document.getElementById("json__ignorelist").innerHTML)),e("#page_type").length>0&&(l=e("#page_type").val()),e("#biodata_status").length>0&&(v=e("#biodata_status").val());e(".od-biodata-gender-field").length>0&&e(".od-biodata-gender-field").each((function(){var t=e(this).find(":selected").text();""==e(this).val()?e(this).parents(".od-custom-drop_down_select_box").find(".od-hf-ref-gender").val(""):e(this).parents(".od-custom-drop_down_select_box").find(".od-hf-ref-gender").val(t)})),e(".od-biodata-submit-user-account").length>0&&e(".od-biodata-submit-user-account").on("click",(function(t){t.preventDefault(),e(this).off(),e(this).css({cursor:"default"}),e.ajax({url:a.base_url+"/ajax/change_biodata_status_by_user",type:"POST",data:{status:"IN_REVIEW"},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(e){"success"==e.status&&(localStorage.setItem("biodataSubmitStatus","submitted"),window.location.href="/user/account/dashboard")}})}));var b=()=>{e(".od-close-modal").length>0&&e(".od-close-modal").off(),e(".od-move-to-biodata-preview").length>0&&e(".od-move-to-biodata-preview").off()};if(e("#user_page_type").length>0&&"user_dashboard"===e("#user_page_type").val()){var y=localStorage.getItem("biodataSubmitStatus");void 0!==y&&"submitted"===y&&(e(".od-close-modal").length>0&&e(".od-close-modal").on("click",(function(){e("#odSubmittedModal").hide(),b();var t=localStorage.getItem("biodataSubmitStatus");void 0!==t&&"submitted"===t&&localStorage.removeItem("biodataSubmitStatus")})),e(".od-move-to-biodata-preview").length>0&&e(".od-move-to-biodata-preview").on("click",(function(){var e=localStorage.getItem("biodataSubmitStatus");void 0!==e&&"submitted"===e&&localStorage.removeItem("biodataSubmitStatus"),b(),window.location.href="/user/account/preview-biodata"})),setTimeout((()=>{e("#odSubmittedModal").show()}),500))}var w=function(e){if(t.length>0)return-1!==t.indexOf(e)},x=function(e){if(h.length>0)return-1!==h.indexOf(e)};i.length>0&&(n.current_step=i.find(".form-content.active").data("step")),(e(".select2").length>0||e(".od-biodata-sorting").length>0)&&e(".select2, .od-biodata-sorting").select2({placeholder:"Please select"});var k=null,C=function(t,a){var o=e.trim(t.term);if(null!=k){var n=e("#select2-"+k+"-results");o?n.length>0&&!n.hasClass("has-user-input-tag")&&n.addClass("has-user-input-tag"):n.hasClass("has-user-input-tag")&&n.removeClass("has-user-input-tag")}return""===o?null:{id:o,text:o,newTag:!0}},T=function(){i.find(".form-content-"+n.current_step+" .od-hf-multiple-tags").length>0&&i.find(".form-content-"+n.current_step+" .od-hf-multiple-tags").each((function(){var t=e(this).attr("name");t&&(t=t.split("_")).length>0&&parseInt(t[1])>0&&(i.find(".form-content-"+n.current_step+" .od-conditional-field-id-"+t[1]).removeClass("multitag-conditional-field"),i.find(".form-content-"+n.current_step+" .od-conditional-field-id-"+t[1]).removeAttr("data-visibility"),i.find(".form-content-"+n.current_step+" .od-conditional-field-id-"+t[1]).hide())})),i.find(".form-content-"+n.current_step+" .od-hf-multiple-tags").length>0&&i.find(".form-content-"+n.current_step+" .od-hf-multiple-tags").each((function(){var t=e(this).val();if(t||null!=t){var a=t.split(",");if(a.length>0)for(var o=0;o<a.length;o++)if(a[o]&&parseInt(a[o])>0){var d=i.find(".form-content-"+n.current_step+" .od-conditional-field-"+e.trim(a[o]));d&&(d.addClass("multitag-conditional-field"),d.attr("data-visibility","yes"),d.show())}}})),z()};e(".od-hf-multiple-tags").length>0&&e(".od-hf-multiple-tags").each((function(){var t=e(this).val(),a=[],o=[],n=!1;if(1==e(this).parents(".od-custom-drop_down_select_box").find(".od-multitag-enable").data("has_user_input_access")&&(n=!0),t&&(a=t.split(", ")).length>0)for(var i=0;i<a.length;i++)o.push({id:a[i],text:a[i]});e(this).parents(".od-custom-drop_down_select_box").find("#multiple_tags_"+e(this).attr("name")).select2({tags:n,data:o,createTag:C,closeOnSelect:!1,placeholder:e(this).data("placeholder")}).on("select2:select select2:unselect",(function(t){var a=e(this);null!=a.val()?a.parents(".od-custom-drop_down_select_box").find(".od-hf-multiple-tags").val(a.val().join(", ")):a.parents(".od-custom-drop_down_select_box").find(".od-hf-multiple-tags").val(""),a.parents(".od-custom-drop_down_select_box").find('input[type="search"]').val(""),T()})).on("select2:open",(function(t){n&&(k=e(this).attr("id"))})).on("select2:close",(function(e){k=null})).on("change",(function(t){var a=e(this);a.val()&&a.val().length==e(this).data("maximum-selection-length")&&a.select2("close")})),e(this).parents(".od-custom-drop_down_select_box").find(".od-multitag-enable").val(a).change()})),e("#scrollUp").click((function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}));let S=document.getElementById("scrollUp");window.onscroll=function(){D()};var D=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?S.style.display="block":S.style.display="none"};e(".od-accordion").length>0&&e(".od-accordion .od-group a.od-accordion-link").on("click",(function(t){t.preventDefault(),e(this).closest(".od-accordion").hasClass("active")?(e(this).closest(".od-accordion").removeClass("active"),e(this).closest(".od-accordion").find(".od-body-part").slideUp()):(e(".od-accordion").removeClass("active"),e(".od-accordion").find(".od-body-part").slideUp(),e(this).closest(".od-accordion").addClass("active"),e(this).closest(".od-accordion").find(".od-body-part").slideDown())})),e(".od-btn-manual").length>0&&e(".od-btn-manual").on("click",(function(t){t.preventDefault(),e(".od-manually-panel").slideToggle().toggleClass("od-opened"),1==e(".od-manually-panel").hasClass("od-opened")?(e(".od-btn-manual .od-angle-open").hide(),e(".od-btn-manual .od-angle-close").show()):(e(".od-btn-manual .od-angle-open").show(),e(".od-btn-manual .od-angle-close").hide())}));var O=!1,E=null,R=null,I=0,j=!1,B=!1;window.addEventListener("DOMContentLoaded",(function(){if(e("#od_completed_nav_step").length>0&&(I=parseInt(e("#od_completed_nav_step").val()))>0){var t=i.find(".form-content-"+n.current_step).find("select, textarea, input").not("input.od-location-checkbox:checkbox");n.current_form_serialize_data=t.serialize(),n.current_form_serialize_array_data=t.serializeArray(),O=!0}}));e(".odd-biodata-nav-item").length>0&&e(".odd-biodata-nav-item a").off().on("click",(function(t){if(t.preventDefault(),e(this).parent().hasClass("disabled"))return!1;R=e(this).data("toggle-target"),O||(n.current_form_serialize_data=null);var a=null;if(null!=n.current_form_serialize_data&&(a=i.find(".form-content-"+n.current_step).find("select, textarea, input").not("input.od-location-checkbox:checkbox").serialize()),null!=a&&E!=e(this).data("toggle-target")){if(n.current_form_serialize_data!=a&&0==_)return swal({title:o.unsave_message,text:o.confirm_unsave_message,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.save_btn_label,cancelButtonText:o.modal_popup.discard_btn_label,closeOnConfirm:!1,closeOnCancel:!1},(function(t){t?(n.current_form_serialize_data=null,O=!1,i.find('input[type="submit"]')[0].click()):(!function(t){if(i.length>0){var a=function(e){var t=e.split("&"),a={};if(t.length>0)for(var o in t)a[t[o].split("=")[0]]=t[o].split("=")[1];return a}(t);a&&e.each(a,(function(t,o){if(o=o.replace(/\+/g,"%20"),i.find('[name="'+t+'"]').hasClass("od-field-type__textbox")||i.find('[name="'+t+'"]').hasClass("od-field-type__multiline")||i.find('[name="'+t+'"]').hasClass("od-field-type__email")||i.find('[name="'+t+'"]').hasClass("od-field-type__tel")||i.find('[name="'+t+'"]').hasClass("od-field-type__datepicker"))i.find('[name="'+t+'"]').val(decodeURIComponent(o)),i.find('[name="'+t+'"]').hasClass("od-field-type__tel")&&i.find('[name="'+t+'"]').parent(".od-form-group-input").find("#"+t+"-error").hide();else if(i.find('[name="'+t+'"]').hasClass("od-field-type__selectbox"))i.find('[name="'+t+'"]').select2("val",o);else if(i.find('[id="multiple_tags_'+t+'"]').hasClass("od-multitag-enable")){o=decodeURIComponent(o),i.find('[id="multiple_tags_'+t+'"]').parents(".od-custom-drop_down_select_box").find(".od-hf-multiple-tags").val(o);var n=[];o&&(n=o.split(", ")),i.find('[id="multiple_tags_'+t+'"]').val(n).change()}else if(i.find('[id="od_range_slider_'+t+'"]').hasClass("od-range-slider")){var d=0,s=i.find('[id="od_range_slider_'+t+'"]').data("from"),r=i.find('[id="od_range_slider_'+t+'"]').data("to"),l=i.find('[id="od_range_slider_'+t+'"]').data("type");if(l&&"double"==l){var c=o.split("-");d=(s=c[0])+"-"+(r=c[1])}else d=s=o;e("#od_range_slider_"+t).ionRangeSlider(),e("#od_range_slider_"+t).data("ionRangeSlider").update({from:s,to:r}),i.find('[id="od_range_slider_'+t+'"]').parents(".od-custom-range_slider").find(".od-hf-range-slider-value").val(d)}else if(i.find('[name="'+t+'"]').hasClass("od-hf-ref-location")){i.find('[name="'+t+'"]').val(o);var p=!1;1==o&&(p=!0),i.find('[name="'+t+'"]').parents(".od-location-checkbox-container").find(".od-location-checkbox").prop("checked",p),i.find('[name="'+t+'"]').parents(".od-location-checkbox-container").find(".od-location-checkbox").trigger("change")}else if(i.find('[name="'+t+'"]').hasClass("od-field-type__location"))if(o){var f=decodeURIComponent(o);i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-dropdown-trigger").hide(),0==i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-dropdown-trigger-close").length&&e('<a href="javascript:void(0);" class="od-location-dropdown-trigger-close"><div class="od-display-flex od-width-100"><div class="od-selected-location"></div><div class="od-remove-selected-location"><i class="fa fa-times"></i></div></div></a>').insertAfter(i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-dropdown-trigger")),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-dropdown-trigger-close .od-selected-location").text(f),i.find('[name="'+t+'"]').val(f);var u=t.split("_")[1];i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-area-text-input").val(a.locationExtraField_+""+u),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-area-text-input").show(),F()}else i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-hf-selected-location").val(""),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-area-text-input").hide(),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-panel-wrap").not(":first").remove(),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-dropdown-trigger").show(),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-overlay").remove(),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".selected").removeClass("selected"),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-dropdown-trigger-close").remove()}))}}(n.current_form_serialize_data),e('.odd-biodata-nav [data-toggle-target="'+R+'"]').parent().removeClass("disabled"),e('.odd-biodata-nav [data-toggle-target="'+R+'"]').trigger("click")),swal.close()})),!1;if(_=!1,null!=E){var d=E.split(".form-content-");d.length>0&&I>=d[1]&&e(".odd-biodata-nav").find('[data-toggle-target="'+E+'"]').parent(".odd-biodata-nav-item").addClass("completed")}n.current_form_serialize_data=null,O=!1}null==E&&e(".odd-biodata-nav").find('[data-toggle-target=".form-content-1"]').parent(".odd-biodata-nav-item").addClass("completed"),e(".odd-biodata-nav-item").removeClass("active"),e(this).parent().addClass("active");var s=this.getAttribute("data-toggle-target");if(e(".form-content").removeClass("active").filter(s).addClass("active"),n.current_step=i.find(".form-content.active").data("step"),e(this).parent(".odd-biodata-nav-item").hasClass("completed")&&e(this).parent(".odd-biodata-nav-item").removeClass("completed"),null==n.current_form_serialize_data){var r=i.find(".form-content-"+n.current_step).find("select, textarea, input").not("input.od-location-checkbox:checkbox");setTimeout((()=>{n.current_form_serialize_data=r.serialize(),n.current_form_serialize_array_data=r.serializeArray()}),100),O=!0}E=e(this).data("toggle-target"),z(),$(),f=i.find(".od-biodata-form-content.active"),ee(),T(),e(".od-biodata-pagination-next-container").find(".od-button").val("Save & Next"),e(".odd-biodata-nav ul li").length==n.current_step&&e(".od-biodata-pagination-next-container").length>0&&e(".od-biodata-pagination-next-container").find(".od-button").val("Save & Submit"),P()})),e(".odd-sidebar a.sidebar-trigger").on("click",(function(t){t.preventDefault(),e(".odd-sidebar, .odd-content").toggleClass("side-inactive"),t.stopPropagation()})),e(".odd-delete-bio label input").on("click",(function(t){e(".odd-delete-bio-button").toggleClass("disabled"),t.stopPropagation()})),e(".od-mobile-menu-trigger a").on("click",(function(t){t.preventDefault(),e("nav.od-menu-lists-container, .odd-content").toggleClass("active"),e(".odd-sidebar, .odd-content").removeClass("side-inactive"),t.stopPropagation()}));var N=function(){e(".od-mob-filter-trigger a").on("click",(function(t){t.preventDefault(),e(".od-biodatas-sidebar, .od-biodatas-container").addClass("filter-open"),t.stopPropagation()}))};N(),e(".od-biodatas-sidebar-filter-top a").on("click",(function(t){t.preventDefault(),e(".od-biodatas-sidebar, .od-biodatas-container").removeClass("filter-open"),t.stopPropagation()})),e(document).on("click",(function(t){e(t.target).closest(".od-biodatas-sidebar").length||e(".od-biodatas-sidebar, .od-biodatas-container").removeClass("filter-open"),e(t.target).closest(".odd-sidebar").length||e(".odd-sidebar, .odd-content").removeClass("side-inactive"),e(t.target).closest("nav.od-menu-lists-container").length||e("nav.od-menu-lists-container, .odd-content").removeClass("active")}));var L=0;e(window).scroll((function(){var t=e(window).scrollTop();t>L||t<=100?e(".od-search-filters").removeClass("fixedTop"):e(".od-search-filters").addClass("fixedTop"),L=t}));var P=function(){setTimeout((()=>{if(e(".odd-mobile-nav-head").length>0){var t=i.find(".od-biodata-form-content").length,a=parseInt(i.find(".od-biodata-form-content.active").next().data("step"))-1;e(".odd-mobile-nav-head").find("h2").text(i.find(".od-biodata-form-content.active .oddb-title h2").text()),e.isNumeric(t)&&t!=e.isNumeric(a)&&a?(e(".odd-mobile-nav-head").find("h3 span").text(i.find(".od-biodata-form-content.active").next().find(".oddb-title h2").text()),e(".odd-mobile-nav-head").find("h3").css({display:"block"})):(e(".odd-mobile-nav-head").find("h3 span").text(""),e(".odd-mobile-nav-head").find("h3").css({display:"none"}))}}),300)};P();var q=function(){e(".od-location-dropdown").length>0&&e(".od-location-dropdown").each((function(){var t=e(this);t.find(".od-location-panel-wrap").not(":first").remove(),t.find(".od-overlay").remove(),t.find(".selected").removeClass("selected"),t.find(".od-location-panel-wrap.active:last").slideToggle().removeClass("active")}))},F=function(){e(".od-remove-selected-location").off().on("click",(function(t){t.preventDefault();var a=e(this);a.parents(".od-location-dropdown").find(".od-hf-selected-location").val(""),a.parents(".od-location-dropdown").find(".od-area-text-input").attr("required",!1),a.parents(".od-location-dropdown").find(".od-area-text-input").val(""),a.parents(".od-location-dropdown").find(".od-area-text-input").hide(),a.parents(".od-location-dropdown").find(".od-location-panel-wrap").not(":first").remove(),a.parents(".od-location-dropdown").find(".od-location-dropdown-trigger").show(),a.parents(".od-location-dropdown").find(".od-overlay").remove(),a.parents(".od-location-dropdown").find(".selected").removeClass("selected"),a.parents(".od-location-dropdown").find(".od-location-dropdown-trigger-close").remove()}))};F();var M=function(){e(".location-search").length>0&&e(".location-search").off().on("keyup",(function(){var t,a;t=e(this).val().toUpperCase(),(a=e(this).parents(".od-location-panel-wrap").find(".odl-nav a")).length>0&&a.each((function(){e(this).text().toUpperCase().indexOf(t)>-1?e(this).parent("li").show():e(this).parent("li").hide()}))}))};M();var K=function(t,o,n,i,d){var r=null;e("#current_page_name").length>0&&(r=e("#current_page_name").val()),e.ajax({url:a.base_url+"/ajax/get_location_data",type:"GET",data:{country_name:o,handle:n,total_index:i,current_index:d,lang:e("html").attr("lang"),generateRandomInteger:Math.random().toString(16).slice(2)+(new Date).getTime()+Math.random().toString(16).slice(2),current_page:r},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(a){"success"==a.status&&(t.parents(".od-location-dropdown").find(".od-location-panel-wrap.active").slideToggle().removeClass("active"),t.parents(".od-location-dropdown").find(".od-location-panel-wrap:last").after(a.html),t.parents(".od-location-dropdown").find(".od-location-panel-wrap:last").slideToggle().addClass("active"),A(),e(".od-location-panel-wrap").length>0&&e(".od-location-panel-wrap").off().on("click",(function(e){e.stopPropagation()})),e(".od-location-picker-previous").length>0&&e(".od-location-picker-previous").off().on("click",(function(t){t.preventDefault(),e(this).parents(".od-location-dropdown").find(".od-overlay").remove(),e(this).parents(".od-location-panel-wrap").prev(".od-location-panel-wrap").slideToggle().addClass("active"),e(this).parents("#"+e(this).data("random_id")).hide(),e(this).parents("#"+e(this).data("random_id")).addClass("cloned"),e(this).parents("#"+e(this).data("random_id")).removeClass("active")})),M(),e(".od-search-parent-item").length>0&&e(".od-search-parent-item").off().on("click",(function(t){if(t.preventDefault(),U(e(this).parents(".od-location-panel-wrap").prev(".od-location-panel-wrap").attr("data-parent_name"),e(this)),e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap.active:last").slideToggle().removeClass("active"),s&&"biodata_search"==l){var a=e(this).parents(".od-location-panel-wrap").prev(".od-location-panel-wrap").attr("data-parent_name");p=a.replace(/, \s*$/,""),e(this).parents(".od-location-dropdown").find(".od-hf-selected-location").val(p)}s&&"home"==l&&(a=e(this).parents(".od-location-panel-wrap").prev(".od-location-panel-wrap").attr("data-parent_name"),p=a.replace(/, \s*$/,"")),e(this).parents(".od-location-dropdown").find(".od-selected-location").attr("data-target",e(this).parents(".od-biodata-search-control").find(".od-location-panel-wrap:last .location-search").data("target"))})))}})};e(".od-location-dropdown-trigger").length>0&&e(".od-location-dropdown-trigger").on("click",(function(t){t.preventDefault(),t.stopPropagation(),q(),e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap:first").slideToggle().addClass("active")})),e(".od-location-dropdown .od-location-panel-wrap .od-close-panel").length>0&&e(".od-location-dropdown .od-location-panel-wrap .od-close-panel").on("click",(function(t){t.preventDefault(),t.stopPropagation(),e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap.active:last").slideToggle().removeClass("active")}));var U=function(e,t){var a="";a+='<a href="javascript:void(0);" class="od-location-dropdown-trigger-close">',a+='<div class="od-display-flex od-width-100">',a+='<div class="od-selected-location">'+e+"</div>",a+='<div class="od-remove-selected-location"><i class="fa fa-times"></i></div>',a+="</div>",(a+="</a>")&&(t.parents(".od-location-dropdown").find(".od-location-dropdown-trigger").hide(),t.parents(".od-location-dropdown").find(".od-location-dropdown-trigger").after(a),F())},A=function(){e(".od-location-dropdown .odl-nav").length>0&&e(".od-location-dropdown .odl-nav a").off().on("click",(function(t){t.preventDefault(),t.stopPropagation(),e("#current_page_name").length>0&&"search_page"==e("#current_page_name").val()&&(s=!0),e(this).parents(".od-location-dropdown").find(".cloned").length>0&&e(this).parents(".od-location-dropdown").find(".cloned").remove();var a=e(this).parents(".odl-nav").find(".selected");a.length>0&&a.removeClass("selected"),e(this).addClass("selected");var o="";if("no"==e(this).data("has_index")?e(e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap").get().reverse()).each((function(){o+=e(this).find(".odl-nav .selected").data("name")+", "})):(s&&e(this).parents(".od-location-panel-wrap").attr("data-parent_name",e(this).data("name")),K(e(this),e(this).data("country_name"),e(this).data("handle"),e(this).data("total_index"),e(this).data("current_index"))),o&&!s){if((o=o.replace(/, \s*$/,"")).toLowerCase().includes("undefined"))return e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap.active:last").slideToggle().removeClass("active"),!1;U(o,e(this));var n=e(this).parents(".od-location-dropdown").find(".od-hf-selected-location").attr("id").split("_")[1];e(this).parents(".od-location-dropdown").find(".od-hf-selected-location").val(o),e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap.active:last").slideToggle().removeClass("active"),e("#current_page_name").length>0&&"edit_biodata_page"==e("#current_page_name").val()&&(e(this).parents(".od-location-dropdown").find('[name="locationExtraField_'+n+'"]').attr("required",!0),e(this).parents(".od-location-dropdown").find('[name="locationExtraField_'+n+'"]').show())}else o&&(p=o.replace(/, \s*$/,""),e(this).parents(".od-location-dropdown").find(".od-hf-selected-location").val(p));s&&"no"==e(this).data("has_index")&&(U(e(this).data("name"),e(this)),e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap.active:last").slideToggle().removeClass("active"))}))};A(),e("body").on("click",(function(){q()})),e(".od-location-panel-wrap").length>0&&e(".od-location-panel-wrap").off().on("click",(function(e){e.stopPropagation()}));var z=function(){var t=e.data(i.get(0),"validator").settings;if(t)for(var a in t.rules)delete t.rules[a].required;G()},$=function(){i.find('[data-step="'+n.current_step+'"]').prev().hasClass("form-content")?e(".od-biodata-pagination").find(".od-btn-disabled").removeClass("od-btn-disabled"):e(".od-biodata-pagination").find(".od-form-previous-step").addClass("od-btn-disabled")},X=function(){e(".od-biodata-pagination-next-container").find(".od-loader-small").length>0&&e(".od-biodata-pagination-next-container").find(".od-loader-small").remove(),e('.odd-biodata-nav-item a, .od-biodata-pagination input[type="submit"]').removeAttr("style")},H=function(e){return e.find(".od-form-group-label label").text().replace(" *","").trim()},V=t=>{let a=e("#submittedConfirmationModal");a.show(),e(".od-place-submit").on("click",(()=>{a.hide(),t(!0)})),e(".od-submit-later").on("click",(()=>{a.hide(),t(!1)}))},J=function(t){var d,s=e(".odd-biodata-nav ul li").length;if(d=Q(),s==n.current_step&&d){var r=d.split("###");if(r.length>0)return _=!0,e.toast({type:"error",autoDismiss:!0,message:o.required_field_message+":  <br/> -- "+r[0]}),e(".odd-biodata-nav").find("[data-toggle-target='.form-content-"+r[1]+"']")[0].click(),!1}e(".od-location-checkbox").length>0&&e(".od-location-checkbox").each((function(){if(e(this).is(":checked")){var t=e("#field_"+e(this).data("target_id")).val(),a=e("input[name='locationExtraField_"+e(this).data("target_id")+"']").val();t&&e("#field_"+e(this).data("field_id")).val(t),a&&e("input[name='locationExtraField_"+e(this).data("field_id")+"']").val(a)}})),e('.odd-biodata-nav-item a, .od-biodata-pagination input[type="submit"]').css({"pointer-events":"none"}),e('.odd-biodata-nav-item a, .od-biodata-pagination input[type="submit"]').css({cursor:"not-allowed"}),e(".od-biodata-pagination-next-container").length>0&&e(".od-biodata-pagination-next-container").append('<div class="od-loader-small"></div>');var l=i.find(".form-content-"+n.current_step).find("select, textarea, input").not("input.od-location-checkbox:checkbox").serialize(),c=[],p=i.find(".form-content-"+n.current_step).find(".od-biodata-conditional-field-track, .multitag-conditional-field");if(p.length>0)for(var f=0;f<p.length;f++){var u=0;e(p[f]).attr("data-visibility")&&"yes"==e(p[f]).attr("data-visibility")&&(u=1),c.push({field_id:e(p[f]).data("field_id"),visibility:u})}var h=[],m=i.find(".form-content-"+n.current_step+".active").find(".required-field");m.length>0&&m.each((function(){if("block"==e(this).css("display")){var t=H(e(this));0==e(this).find(".od-hf-upload-image").length&&h.push({field_title:t,field_id:"field_"+e(this).data("field_id")}),e(this).find(".od-hf-ref-gender").length>0?h.push({field_title:t,field_id:e(this).find(".od-hf-ref-gender").attr("name")}):e(this).find(".od-area-text-input").length>0?h.push({field_title:e(this).find(".od-area-text-input").attr("placeholder"),field_id:e(this).find(".od-area-text-input").attr("name")}):e(this).find(".od-hf-upload-image").length>0&&h.push({field_title:t,field_id:e(this).find(".od-hf-upload-image").attr("name")})}}));let g={currentTabData:l,current_step:n.current_step,currentConditionalFields:JSON.stringify(c),totalTabCount:e(".odd-biodata-nav ul li").length,required_fields:JSON.stringify(h),required_fields_data:d,is_last_step:j};e.ajax({url:a.base_url+"/ajax/update_biodata_form_data",type:"POST",data:g,dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},beforeSend:function(t){B&&(this.data+="&"+e.param({wantsBiodataSubmit:!0}))},success:function(a){if("success"==a.status){if(v=a.biodata_status,e("#od_completed_nav_step").length>0&&n.current_step>I&&(I=n.current_step),function(t){if(e(".odd-biodata-nav ul").find(".completed").removeClass("completed"),e(".odd-biodata-nav ul").find(".active").removeClass("active"),I>0)for(var a=1;a<=I;a++)e(".odd-biodata-nav ul").find('[data-toggle-target=".form-content-'+a+'"]').parent(".odd-biodata-nav-item").addClass("completed");if("nav_switching"==t)e('.odd-biodata-nav [data-toggle-target="'+R+'"]').trigger("click");else{var o=e(".odd-biodata-nav").find('[data-toggle-target=".form-content-'+n.current_step+'"]').parent(".odd-biodata-nav-item").next().find(".odd-biodata-nav-link").data("toggle-target");0==I&&e('.odd-biodata-nav [data-toggle-target="'+o+'"]').parent().prev().removeClass("active").addClass("completed"),e('.odd-biodata-nav [data-toggle-target="'+o+'"]').parent().hasClass("disabled")&&e('.odd-biodata-nav [data-toggle-target="'+o+'"]').parent().removeClass("disabled"),e('.odd-biodata-nav [data-toggle-target="'+o+'"]').trigger("click")}n.current_step=i.find(".form-content.active").data("step"),z(),$()}(t),window.scrollTo({top:0,behavior:"smooth"}),e.toast({type:"success",autoDismiss:!0,message:o.profile_data_update_message}),j&&""==d&&"IN_REVIEW"!=v&&e("#od_preview_url").length>0&&(window.location.href=e("#od_preview_url").val()),j&&""==d&&"IN_REVIEW"===v&&(localStorage.setItem("biodataSubmitStatus","submitted"),window.location.href="/user/account/dashboard"),X(),e(".odd-bio-status-wrap").length>0){var s="";[{name:"NOT_CREATED",label:"Not Created"},{name:"INCOMPLETE",label:"Incomplete"},{name:"NOT_PUBLISHED",label:"Not Submitted"},{name:"IN_REVIEW",label:"In Review"},{name:"APPROVED",label:"Approved"},{name:"HIDDEN",label:"Hidden"},{name:"NOT_APPROVED",label:"Not Approved"}].map((e=>{e.name!==v||(s=e.label)})),e(".odd-bio-status-wrap .odd-bio-status span, .od-status-top-on-nav span").html(s),e(".odd-bio-status-wrap .odd-bio-status span, .od-status-top-on-nav span").removeClass(),e(".odd-bio-status-wrap .odd-bio-status span, .od-status-top-on-nav span").addClass("od-"+v.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")),e(".odd-bio-status-wrap .odd-bio-status-trigger").length>0&&e(".odd-bio-status-wrap .odd-bio-status-trigger").remove()}}else window.scrollTo({top:0,behavior:"smooth"}),e.toast({type:"error",autoDismiss:!0,message:o.required_field_message+": <br/>"+a.message}),X()}})};i.length>0&&i.validate({ignore:"not:hidden",submitHandler:function(t){i.find(".form-content-"+n.current_step).find("select, textarea, input").not("input.od-location-checkbox:checkbox").serialize()===n.current_form_serialize_data&&(I==n.current_step||I>n.current_step)&&"NOT_PUBLISHED"!=v?e(".odd-biodata-nav ul li").length==n.current_step&&e("#od_preview_url").length>0?window.location.href=e("#od_preview_url").val():j?V((e=>{e?(B=!0,J("regular")):(B=!1,J("regular"))})):J("regular"):(e(".odd-biodata-nav ul li").length==n.current_step&&(j=!0),j?V((e=>{e?(B=!0,J("regular")):(B=!1,J("regular"))})):J("regular"),n.current_form_serialize_data=null);P()},invalidHandler:function(t,a){var o="";e(".odd-biodata-nav ul li:last").find("a").data("toggle-target");for(var n in a.errorMap){o=n;break}var d=i.find("[name='"+o+"']").parents(".od-biodata-form-content").data("step");e(".odd-biodata-nav").find("[data-toggle-target='.form-content-"+d+"']")[0].click()}}),e.validator.addMethod("customphone",(function(e,t){return this.optional(t)||/^(?:\+88|88)?(01[3-9]\d{8})$/.test(e)}),o.valid_phone_number_message),e.validator.addMethod("minDate",(function(e,t){var a=e.split("/"),o=a[1]+"/"+a[0]+"/"+a[2],n=new Date,i=new Date(o);return this.optional(t)||n>=i}),o.min_date_message);var W=function(t,a){if(null==t)return!1;var o;void 0!==(o=t.attr("id"))&&(t.hasClass("od-range-slider")?e("#"+o).parents(".required-field").find(".od-hf-range-slider-value").rules("add",a):t.hasClass("od-multitag-enable")?e("#"+o).parents(".required-field").find(".od-hf-multiple-tags").rules("add",a):e("#"+o).rules("add",a))};e(".od-field-type__datepicker").length>0&&W(e(".od-field-type__datepicker"),{minDate:!0});var G=function(){i.length>0&&i.find(".form-content-"+n.current_step+" .required-field").length>0&&i.find(".form-content-"+n.current_step+" .required-field").each((function(){e(this).attr("data-visibility")&&"yes"==e(this).attr("data-visibility")&&(e(this).find('input[type="text"]')&&W(e(this).find('input[type="text"]:not(.od-area-text-input)'),{required:!0}),e(this).find("textarea")&&W(e(this).find("textarea"),{required:!0}),e(this).find('input[type="email"]')&&W(e(this).find('input[type="email"]'),{required:!0,email:!0}),e(this).find("select")&&W(e(this).find("select"),{required:!0}),e(this).find('input[type="hidden"]')&&W(e(this).find('input[type="hidden"]'),{required:!0}),e(this).find('input[type="tel"]')&&W(e(this).find('input[type="tel"]'),{required:!0,customphone:!0}),e(this).find(".od-hf-selected-location")&&W(e(this).find(".od-hf-selected-location"),{required:!0}),e(this).find(".od-hf-upload-image")&&W(e(this).find(".od-hf-upload-image"),{required:!0}))}))},Q=function(){if(i.length>0&&i.find(".required-field").length>0){var t="";return i.find(".required-field").each((function(){if(e(this).attr("data-visibility")&&"yes"==e(this).attr("data-visibility")){if(e(this).find('input[type="text"]')){var a=e(this).find('input[type="text"]').val();if(void 0!==a&&(null===a||""===a))return t=H(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find('input[type="text"]').attr("id"),!1}if(e(this).find("textarea")){var o=e(this).find("textarea").val();if(void 0!==o&&(null===o||""===o))return t=H(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find("textarea").attr("id"),!1}if(e(this).find('input[type="email"]')){var n=e(this).find('input[type="email"]').val();if(void 0!==n&&(null===n||""===n))return t=H(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find('input[type="email"]').attr("id"),!1}if(e(this).find("select")){var i=e(this).find("select").val();if(void 0!==i&&(null===i||""===i))return t=H(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find("select").attr("id"),!1}if(e(this).find('input[type="hidden"]')){var d=e(this).find('input[type="hidden"]').val();if(void 0!==d&&(null===d||""===d))return t=H(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find('input[type="hidden"]').attr("name"),!1}if(e(this).find('input[type="tel"]')){var s=e(this).find('input[type="tel"]').val();if(void 0!==s&&(null===s||""===s))return t=H(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find('input[type="tel"]').attr("id"),!1}if(e(this).find(".od-hf-selected-location")){var r=e(this).find(".od-hf-selected-location").val();if(void 0!==r&&(null===r||""===r))return t=H(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find(".od-hf-selected-location").attr("id"),!1}if(e(this).find(".od-hf-upload-image")){var l=e(this).find(".od-hf-upload-image").val();if(void 0!==l&&(null===l||""===l))return t=H(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find(".od-hf-upload-image").attr("id"),!1}}})),t}};e(".od-form-previous-step").length>0&&e(".od-form-previous-step").on("click",(function(t){if(t.preventDefault(),e(this).hasClass("od-btn-disabled"))return!1;i.find(".active").removeClass("active"),i.find('[data-step="'+n.current_step+'"]').prev().addClass("active"),e(".odd-biodata-nav ul").find(".active").removeClass("active"),e(".odd-biodata-nav").find('[data-toggle-target=".form-content-'+n.current_step+'"]').parent(".odd-biodata-nav-item").prev().addClass("active"),e(".odd-biodata-nav").find('[data-toggle-target=".form-content-'+n.current_step+'"]').parent(".odd-biodata-nav-item").prev().removeClass("completed"),n.current_step=i.find(".form-content.active").data("step"),z(),$();var a=i.find(".form-content-"+n.current_step).find("select, textarea, input").not("input.od-location-checkbox:checkbox");n.current_form_serialize_data=a.serialize(),n.current_form_serialize_array_data=a.serializeArray();var o=e(".odd-biodata-nav ul").find(".active").next().find(".odd-biodata-nav-link").data("toggle-target");if(o){var d=o.split(".form-content-");d.length>0&&I>=d[1]&&e(".odd-biodata-nav ul").find(".active").next().addClass("completed")}E=e(".odd-biodata-nav ul").find(".active .odd-biodata-nav-link").data("toggle-target"),P()})),G();var Y=function(t,a){var o=null;if((o="common_filter"==a?t.parents(".od-biodata-form-content").find(".od-conditional-field-id-"+t.data("field_id")):t.parents('form[name="od_biodata_edit_form"]').find(".od-conditional-field-id-"+t.data("field_id"))).length>0)for(var n=0;n<o.length;n++)if(e(o[n]).hasClass("od-conditional-field-"+t.val())){if("show"==e(o[n]).data("conditional_target")&&(e(o[n]).show(),e(o[n]).attr("data-visibility","yes")),"hide"==e(o[n]).data("conditional_target"))if("block"==e(o[n]).css("display"))e(o[n]).hide(),e(o[n]).attr("data-visibility")&&e(o[n]).removeAttr("data-visibility"),Y(e(o[n]),a),(i=e(o[n]).find(".od-profile-field-select-control")).length>0&&void 0!==i&&""!=i.val()&&i.val("").trigger("change")}else{var i;if("show"==e(o[n]).data("conditional_target"))if("block"==e(o[n]).css("display"))e(o[n]).hide(),e(o[n]).attr("data-visibility")&&e(o[n]).removeAttr("data-visibility"),Y(e(o[n]),a),(i=e(o[n]).find(".od-profile-field-select-control")).length>0&&void 0!==i&&""!=i.val()&&i.val("").trigger("change");"hide"==e(o[n]).data("conditional_target")&&(e(o[n]).show(),e(o[n]).attr("data-visibility","yes"))}},Z=function(t,a){var o=t,n=o.val(),i=o.find('option[value="'+n+'"]').attr("data-search_val");if(Y(o,a),o.hasClass("od-biodata-gender-field")){var d=e(".od-biodata-gender-field").find(":selected").text();""==e(".od-biodata-gender-field").val()?o.parents(".od-custom-drop_down_select_box").find(".od-hf-ref-gender").val(""):o.parents(".od-custom-drop_down_select_box").find(".od-hf-ref-gender").val(d)}i&&o.parent(".od-custom-drop_down_select_box").find(".od-hf-corresponding_val").val(i)},ee=function(){var t=f.find(".od-profile-field-select-control").not(".od-biodata-advanced-count-field"),a=i.find(".od-biodata-advanced-count-field");t.length>0&&(t.select2().off().on("change",(function(t){Z(e(this),"common_filter"),e(this).val()&&z()})),t.select2().trigger("change")),a.length>0&&(a.select2().off().on("change",(function(t){Z(e(this),"advanced_filter"),e(this).val()&&z()})),a.select2().trigger("change"))};ee(),e(".od-datepicker").length>0&&e(".od-datepicker").inputmask(),e(".od-location-checkbox").length>0&&e(".od-location-checkbox").on("change",(function(){var t=e(this).data("field_id");if(e(this).is(":checked")){if(e(this).parents(".od-form-group-container").find(".od-location-dropdown").hide(),e(this).parents(".od-form-group-container").find(".od-field-desc").hide(),e(this).parents(".od-custom-location").find(".od-hf-ref-location").val(1),e(this).parents(".od-form-group-container").hasClass("required-field"))for(var a in i.validate().settings.rules)a!="field_"+t&&a!="locationExtraField_"+t||delete i.validate().settings.rules[a];e(this).parents(".od-form-group-container").find(".od-hf-selected-location").val(""),e(this).parents(".od-form-group-container").hasClass("required-field")&&e("#field_"+t).rules("remove"),e("#field_"+t).val("selected location")}else e(this).parents(".od-form-group-container").find(".od-location-dropdown .od-hf-selected-location").val().length>0&&e(this).parents(".od-form-group-container").find(".od-location-dropdown .od-hf-selected-location").val(""),e(this).parents(".od-form-group-container").find(".od-remove-selected-location").length>0&&e(this).parents(".od-form-group-container").find(".od-remove-selected-location")[0].click(),e(this).parents(".od-form-group-container").find(".od-area-text-input").val(""),e(this).parents(".od-custom-location").find(".od-hf-ref-location").val(0),e(this).parents(".od-form-group-container").find(".od-location-dropdown").show(),e(this).parents(".od-form-group-container").find(".od-field-desc").show(),e(this).parents(".od-form-group-container").hasClass("required-field")&&e("#field_"+t).rules("add",{required:!0}),e("#field_"+t).val("")}));var te=0;e("#target_biodata").length>0&&(te=e("#target_biodata").val());var ae=function(){e(".od-biodata-contact-panel .od-connections-error-message").length>0&&(e(".od-biodata-contact-panel .od-connections-error-message").remove(),u.biodata_purchase_action=!1,e(".od-dynamic-biodata-purchase-action.od-button-disable").length>0&&e(".od-dynamic-biodata-purchase-action").removeClass("od-button-disable"))};null!=sessionStorage.getItem("is_completed_purchase__od")&&(sessionStorage.removeItem("is_completed_purchase__od"),e("html, body").animate({scrollTop:e(document).height()},1e3)),e(".od-dynamic-biodata-purchase-action").length>0&&e(".od-dynamic-biodata-purchase-action").on("click",(function(t){t.preventDefault();var n=e(this);if(u.biodata_purchase_action)return!1;u.biodata_purchase_action=!0,n.addClass("od-button-disable"),swal({title:"",text:o.biodata_contact_view_message,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},(function(t){t?(e.ajax({url:a.base_url+"/ajax/purchase_biodata",type:"POST",data:{target_biodata:te},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){"error"==t.status?(!function(t,n){ae();var i="",d="";"no_connections_available"!=n&&"connections_limit_exceed"!=n||(i='&nbsp; <a href="'+a.base_url+"/user/account/connection/details?redirect_to="+encodeURIComponent(window.location.href)+'">'+o.connection_link_label+"</a>"),"login_fail"==n&&(i='&nbsp; <a href="'+a.base_url+"/login?redirect_to="+encodeURIComponent(window.location.href)+'">'+o.user_login+"</a>"),d+="<span>"+t+"</span>",i&&(d+=i),e(".od-biodata-contact-panel .ebo-group-content").after('<div class="od-connections-error-message">'+d+"</div>")}(t.message,t.error_type),setTimeout(ae,6e3)):"success"==t.status&&(sessionStorage.setItem("is_completed_purchase__od","yes"),e.toast({type:"success",autoDismiss:!0,message:t.message}),setTimeout((function(){window.location.href=window.location.href}),2e3))}}),swal.close()):(u.biodata_purchase_action=!1,n.removeClass("od-button-disable"))}))})),e(".alert .close").length>0&&e(".alert .close").on("click",(function(t){t.preventDefault(),e(this).parent().remove()})),e(".odd-list-items .mobile-list-first-item").click((function(t){t.preventDefault(),e(this).next(".odd-list-item-mobile-content").slideToggle(),e(this).toggleClass("active")}));var oe=function(e,t,a){var n="",i="",d="",s="";return"undefined"==typeof login_user_track?(swal({title:"",text:o.login_message,confirmButtonText:o.modal_popup.ok_btn_label}),!1):"undefined"!=typeof login_user_track&&login_user_track>0&&login_user_track==t?(swal({title:"",text:o.own_biodata_message,confirmButtonText:o.modal_popup.ok_btn_label}),!1):("shortlist"==e&&(w(t)?(n=o.short_list_remove_message,d=o.short_listed_solid_label,s=o.short_list_remove_toast_message,i="REMOVE_FROM_LIST"):x(t)?(n=o.short_list_message3,d=o.short_listed_label,s=o.ignore_list_remove_toast_message,i="ADD_TO_LIST_WITH_REMOVE"):(n=o.short_list_message,d=o.short_listed_label,s=o.short_list_added_toast_message,i="ADD_TO_LIST")),"ignorelist"==e&&(x(t)?(n=o.ignore_list_remove_message,d=o.ignored_solid_label,s=o.ignore_list_remove_toast_message,i="REMOVE_FROM_LIST"):w(t)?(n=o.ignore_list_message2,d=o.short_listed_solid_label,s=o.short_list_remove_toast_message,i="ADD_TO_LIST_WITH_REMOVE"):(n=o.ignore_list_message,d=o.ignored_label,s=o.ignore_list_added_toast_message,i="ADD_TO_LIST")),void a(n,i,d,s))},ne=function(){e(".od-biodata-shortlist-link").length>0&&e(document).off().on("click",".od-biodata-shortlist-link",(function(n){n.preventDefault();var i=e(this).data("user_id"),d=e(this);if(void 0===i||""===i)return!1;oe("shortlist",i,(function(n,s,r,l){swal({title:"",text:n,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},(function(n){n&&(e(".od-biodata-shortlist, .od-biodata-ignoreList").css("pointer-events","none"),e.ajax({url:a.base_url+"/ajax/shortlist",type:"POST",data:{biodata_id:i,current_status:s},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(a){"success"==a.status&&(d.find("span").text(r),"ADD_TO_LIST"==s&&t.push(i),"ADD_TO_LIST_WITH_REMOVE"==s&&(t.push(i),h=h.filter((e=>e!==i))),"REMOVE_FROM_LIST"==s&&(t=t.filter((e=>e!==i))),"ADD_TO_LIST_WITH_REMOVE"==s&&(e(".od-biodata-shortlist-link").find("span").text(o.short_listed_label),e(".od-biodata-ignoreList-link").find("span").text(o.ignored_solid_label)),e.toast({type:"success",autoDismiss:!0,message:l}),swal.close(),e(".od-biodata-shortlist, .od-biodata-ignoreList").removeAttr("style"))}}))}))}))}))};ne(),e(".oddl-delete-from-shortlist").length>0&&e(".oddl-delete-from-shortlist").on("click",(function(t){t.preventDefault();var n=e(this).data("id");swal({title:"",text:o.short_list_remove_message,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},(function(t){t&&e.ajax({url:a.base_url+"/ajax/remove/shortlist/item",type:"POST",data:{id:n},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){"success"==t.status&&(e.toast({type:"success",autoDismiss:!0,message:t.message}),setTimeout((function(){window.location.href=window.location.href}),2500))}})}))})),e(".od-biodata-ignoreList-link").length>0&&e(".od-biodata-ignoreList-link").on("click",(function(n){n.preventDefault();var i=e(this).data("user_id"),d=e(this);if(void 0===i||""===i)return!1;oe("ignorelist",i,(function(n,s,r,l){swal({title:"",text:n,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},(function(n){n&&(e(".od-biodata-shortlist, .od-biodata-ignoreList").css("pointer-events","none"),e.ajax({url:a.base_url+"/ajax/ignorelist",type:"POST",data:{biodata_id:i,current_status:s},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(a){a&&"success"==a.status&&(d.find("span").text(r),"ADD_TO_LIST"==s&&h.push(i),"ADD_TO_LIST_WITH_REMOVE"==s&&(h.push(i),t=t.filter((e=>e!==i))),"REMOVE_FROM_LIST"==s&&(h=h.filter((e=>e!==i))),"ADD_TO_LIST_WITH_REMOVE"==s&&(e(".od-biodata-shortlist-link").find("span").text(o.short_listed_solid_label),e(".od-biodata-ignoreList-link").find("span").text(o.ignored_label)),e.toast({type:"success",autoDismiss:!0,message:l}),swal.close(),e(".od-biodata-shortlist, .od-biodata-ignoreList").removeAttr("style"))}}))}))}))})),e(".oddl-delete-from-ignorelist").length>0&&e(".oddl-delete-from-ignorelist").on("click",(function(t){t.preventDefault();var n=e(this).data("id");swal({title:"",text:o.ignore_list_remove_message,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},(function(t){t&&e.ajax({url:a.base_url+"/ajax/remove/ignorelist/item",type:"POST",data:{id:n},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){"success"==t.status&&(e.toast({type:"success",autoDismiss:!0,message:t.message}),setTimeout((function(){window.location.href=window.location.href}),2500))}})}))}));if(e(".copy-biodata-link").length>0&&e(".copy-biodata-link").on("click",(function(t){var a;t.preventDefault(),e("#copy_biodata_link").length>0&&((a=document.getElementById("copy_biodata_link")).readOnly=!0,a.type="text",a.select(),a.setSelectionRange(0,99999),navigator.clipboard.writeText(a.value),a.type="hidden",e.toast({type:"success",autoDismiss:!0,message:o.copy_success_message}))})),e(".od-bio-status-change-by-one-click").length>0&&e(".od-bio-status-change-by-one-click").on("click",(function(){var t=e(this),n="HIDDEN",i=o.user_status_change_message_hide;this.checked&&(n="APPROVED",i=o.user_status_change_message_live),swal({title:"",text:i,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},(function(i){i?e.ajax({url:a.base_url+"/ajax/change_biodata_status_by_user",type:"POST",data:{status:n},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){"success"==t.status&&(e.toast({type:"success",autoDismiss:!0,message:o.user_status_change_after_message}),setTimeout((function(){window.location.href=window.location.href}),1500))}}):"APPROVED"==n?t.prop("checked",!1):t.prop("checked",!0),swal.close()}))})),e(".od-range-slider").length>0)e(".od-range-slider").ionRangeSlider({onChange:function(t){var a=0;a="double"==e(t.input).data("type")?t.from+"-"+t.to:t.from,e(t.input).parents(".od-custom-range_slider").find(".od-hf-range-slider-value").val(a)}});e(".search-filter-range-slider").length>0&&e(".search-filter-range-slider").each((function(){!function(t){var a=[],o=[],n=t.data("target");"regular"==n&&(t.parents(".odb-ef-input").find(".filter-values").val().length>0&&(o=JSON.parse(t.parents(".odb-ef-input").find(".filter-values").val())),t.parents(".odb-ef-input").find(".filter-corresponding-values").val().length>0&&(a=JSON.parse(t.parents(".odb-ef-input").find(".filter-corresponding-values").val())));let i=t.attr("id");e("#"+i).ionRangeSlider({type:"double",min:t.data("min_val"),max:t.data("max_val"),from:t.data("from_val"),to:t.data("to_val"),prettify:function(e){if("regular"==n){var t=a.indexOf(e);return o[t]}return e},onChange:function(t){var a=e(t.input)[0].dataset.target,o=0;o="with_value"==a||"regular"==a?t.from+"-"+t.to:t.from,"biodata_search"==l&&e(t.input).parents(".odb-each-field").find(".od-hf-filter-range-slider-value").val(o),"home"==l&&e(t.input).parent(".od-search-option-input").find(".od-hf-filter-range-slider-value").val(o)}})}(e(this))})),e(".biodata-no-search-action").length>0&&e(".biodata-no-search-action").on("click",(function(t){t.preventDefault();var a=e(".od-biodata-search-with-number");if(a.length>0&&(null==a.val()||""==a.val()))return a.css("border","1px solid #FF0000"),!1;r=!0,a.css("border","1px solid #d5d5d5");var o={_target:"biodata_no",search_parms:a.val()};fe(o)}));var ie=function(){e("#current_page_name").length>0&&"search_page"==e("#current_page_name").val()&&e(".od-ajax-pagination-item").length>0&&e(".od-ajax-pagination-item").off().on("click",(function(t){t.preventDefault();var a=0,o=e(this).attr("href").split("?page=");if(o.length>0&&(a=o[1]),a>0){var n=null;if(r||(n={_target:"pagination",page_number:a,sort_by:e(".od-biodata-sorting").val()},fe(n)),r&&ce(a),history.pushState){const e=new URLSearchParams(decodeURIComponent(window.location.search));e.set("page_number",a),e.search=e.toString();var i=e.toString(),d=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+i;window.history.pushState({path:d},"",d)}}}))};if(ie(),e(".filter-corresponding-values").length>0&&e(".filter-corresponding-values").val().length>0){m=JSON.parse(e(".filter-corresponding-values").val());var de=Math.min(...m),se=Math.max(...m);de&&se&&(m=de+"-"+se)}e(".od-clear-all-filters").length>0&&e(".od-clear-all-filters").on("click",(function(t){t.preventDefault();let a=window.location.origin+window.location.pathname;history.pushState({},null,a),r=!1;e(".od-biodata-search-control").each((function(){e(this).hasClass("od-filter-by-dropdown")?(e(this).select2("destroy"),e(this).val("no_selected").select2()):e(this).hasClass("search-filter-range-slider")&&"regular"==e(this).data("target")?(e(this).data("ionRangeSlider").reset(),e(this).parents(".odb-each-field").find(".od-hf-filter-range-slider-value").val(m)):e(this).hasClass("search-filter-range-slider")&&"with_value"==e(this).data("target")?(e(this).attr("data-from",e(this).data("min")),e(this).attr("data-to",e(this).data("max")),e(this).data("ionRangeSlider").update({from:e(this).data("min"),to:e(this).data("max")}),e(this).parents(".odb-each-field").find(".od-hf-filter-range-slider-value").val(e(this).data("min")+"-"+e(this).data("max"))):e(this).hasClass("od-profile-search-checkbox")?e(this).find('input[type="checkbox"]').each((function(){e(this).prop("checked",!1)})):e(this).hasClass("od-field-type__location")&&(e(this).find(".od-location-dropdown-trigger-close").remove(),e(this).find(".od-location-dropdown-trigger").show())})),fe({_target:"all_clear"})}));var re=function(){e(".od-biodata-sorting").length>0&&e(".od-biodata-sorting").select2().on("change",(function(){var t=null;r||(t={_target:"sorting",sort_by:e(this).val()},fe(t)),r&&ce(1)}))};re();var le=[{id:2,column:"biodata_type"},{id:3,column:"marital_status"},{id:4,column:"age"},{id:10,column:"permanent_address"},{id:11,column:"present_address"},{id:25,column:"education_method"},{id:196,column:"islamic_educational_qualification"},{id:6,column:"range_val"},{id:5,column:"complexion"},{id:80,column:"fiqh_follow"},{id:194,column:"occupation"},{id:29,column:"financial_status"},{id:190,column:"category"}],ce=function(t){if(r=!0,d=[],e(".od-biodata-search-control").each((function(){var t="";const a=le.find((t=>t.id==e(this).data("field_id")));if(a&&null!=a&&(t=a.column),e(this).hasClass("od-filter-by-dropdown"))d.push({type:"dropdown",field_id:e(this).data("field_id"),value:e(this).val(),column_name:t});else if(e(this).hasClass("search-filter-range-slider")&&"regular"==e(this).data("target"))d.push({type:"slider",field_id:e(this).data("field_id"),value:e(this).parents(".odb-ef-input").find(".od-hf-filter-range-slider-value").val(),column_name:t});else if(e(this).hasClass("search-filter-range-slider")&&"with_value"==e(this).data("target")){var o="";"age"==e(this).data("field_type")&&(o="slider_with_age"),d.push({type:o,field_id:e(this).data("field_id"),value:e(this).parents(".odb-ef-input").find(".od-hf-filter-range-slider-value").val(),column_name:t})}else if(e(this).hasClass("od-profile-search-checkbox")){if(e(this).find('input[type="checkbox"]:checked').length>0){var n=[];e(this).find('input[type="checkbox"]:checked').each((function(){n.push(e(this).val())})),d.push({type:"checkbox",field_id:e(this).data("field_id"),value:n,column_name:t})}}else if(e(this).hasClass("od-field-type__location")){var i="country";e(this).find(".od-selected-location").length>0&&e(this).find(".od-selected-location").attr("data-target")&&(i=e(this).find(".od-selected-location").attr("data-target")),d.push({type:"location",field_id:e(this).data("field_id"),value:e(this).find(".od-hf-selected-location").val(),target:i,column_name:t})}})),d.length>0){var a={_target:"all_terms",page_number:t,sort_by:e(".od-biodata-sorting").val(),selected_value:JSON.stringify(d)};fe(a)}},pe=()=>{var t="";if(e(".od-search-content-container .od-biodata-search-control").each((function(){if(e(this).hasClass("od-filter-by-dropdown"))t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+e(this).val())+"&";else if(e(this).hasClass("search-filter-range-slider"))t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+e(this).parent(".odb-ef-input").find(".od-hf-filter-range-slider-value").val())+"&";else if(e(this).hasClass("od-location-dropdown")){if(e(this).find(".od-location-dropdown-trigger-close").length>0){var a="country";e(this).find(".od-selected-location").length>0&&e(this).find(".od-selected-location").attr("data-target")&&(a=e(this).find(".od-selected-location").attr("data-target")),t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+e(this).find(".od-field-type__location").val())+"&lt="+encodeURIComponent(a)+"&"}}else if(e(this).hasClass("od-profile-search-checkbox")&&e(this).find('input[type="checkbox"]:checked').length>0){var o=[];e(this).find('input[type="checkbox"]:checked').each((function(){o.push(e(this).val())})),o.length>0&&(t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+o)+"&")}})),t&&(t=t.replace(/&\s*$/,"")),history.pushState){var a=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+t;window.history.pushState({path:a},"",a)}};e(".all-items-search-action").length>0&&e(".all-items-search-action").on("click",(function(){ce(1),pe()}));var fe=function(t){if(u.biodata_search_with_ajax)return!1;u.biodata_search_with_ajax=!0,e(".od-biodata-search-control").length>0&&e(".od-biodata-search-control").each((function(){e(this).find(":checkbox").length>0&&e(this).find(":checkbox").prop("disabled",!0),e(this).hasClass("select2")&&e(this).prop("disabled",!0),e(this).hasClass("od-field-type__location")&&e(this).css({"pointer-events":"none"})})),e("html, body").animate({scrollTop:0},"slow"),e("body").append(g),setTimeout((()=>{e.ajax({url:a.base_url+"/ajax/biodata_search",type:"GET",data:t,dataType:"HTML",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(a){if(a){if(e(".od-overlay").length>0&&e(".od-overlay").remove(),"all_clear"!=t._target||e(".od-biodatas-sidebar").hasClass("filter-open")||e(".od-biodatas-container").hasClass("filter-open")||e(".od-clear-all-filters").hide(),r&&e(".od-clear-all-filters").show(),e(".od-profile-search-content").length>0&&(e(".od-profile-search-content").html(a),e(".od-biodata-sorting").select2()),e(".result-found__desktop").length>0&&e(".result-found__mobile").length>0){var o=e(".result-found__desktop").html();e(".result-found__mobile").html(o)}ie(),re(),N(),ne(),p="",u.biodata_search_with_ajax=!1,e(".od-biodata-search-control").length>0&&e(".od-biodata-search-control").each((function(){e(this).find(":checkbox").length>0&&e(this).find(":checkbox").prop("disabled",!1),e(this).hasClass("select2")&&e(this).prop("disabled",!1),e(this).hasClass("od-field-type__location")&&e(this).css({"pointer-events":""})})),e(".od-biodatas-sidebar").hasClass("filter-open")&&e(".od-biodatas-container").hasClass("filter-open")&&"all_clear"!==t._target&&e(".od-biodatas-sidebar, .od-biodatas-container").removeClass("filter-open")}}})}),300)};e(window).load((function(){const t=new URLSearchParams(decodeURIComponent(window.location.search));if(e("#has_search_query_string").length>0&&"yes"==e("#has_search_query_string").val()){let e=1;t.has("page_number")&&(e=t.get("page_number")),ce(e)}}));var ue=null,he=null;if(e("#package_data").length>0&&(he=JSON.parse(e("#package_data").text())),e(".od-pay-now-button").length>0&&e(".od-pay-now-button").on("click",(function(t){if(t.preventDefault(),void 0===(ue=e(".od-payment-selection-container input[name='payment_option']:checked").val()))return swal({title:"",text:o.payment_gateway_selection_message,confirmButtonText:o.modal_popup.ok_btn_label}),!1;"bkash"!=ue&&"nagad"!=ue||(e(this).addClass("payment-button-selection"),e(this).after('<div class="od-loader-small"></div>')),"bkash"==ue?e("#bKash_button").length>0&&e("#bKash_button")[0].click():"nagad"==ue&&e(".od-place-order").length>0&&e(".od-place-order")[0].click()})),e(".od-payment-selection-container input[name='payment_option']").length>0&&e(".od-payment-selection-container input[name='payment_option']").on("change",(function(){he.gateway=e(this).val()})),e(".od-place-order").length>0&&e(".od-place-order").on("click",(function(){if("nagad"!=ue)return!1;e("#nagadFrameWrapper").length>0&&null!=he&&e.ajax({url:a.nagad_initialize,type:"GET",data:{gateway:he.gateway,package:he.package,billing_data:"No billing data yet"},contentType:"application/json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){t&&("success"==t.status?window.location.href=t.data:window.location.href=window.location.href),e(".payment-button-holder").length>0&&(e(".payment-button-holder").find(".payment-button-selection").removeClass("payment-button-selection"),e(".payment-button-holder").find(".od-loader-small").remove())},error:function(){}})})),e("#bKash_button").length>0){var me,_e,ge={createCheckoutURL:a.bkash_createpayment,executeCheckoutURL:a.bkash_executepayment,queryPaymentURL:a.bkash_querypayment};function Ie(t){e.ajax({url:ge.createCheckoutURL,type:"GET",data:{gateway:he.gateway,package:he.package},contentType:"application/json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){if(t){var a=JSON.parse(t);t&&null!=a.paymentID?(_e=a.paymentID,bKash.create().onSuccess(a)):bKash.create().onError()}e(".payment-button-holder").length>0&&(e(".payment-button-holder").find(".payment-button-selection").removeClass("payment-button-selection"),e(".payment-button-holder").find(".od-loader-small").remove())},error:function(){bKash.create().onError()}})}me={amount:he.price,intent:"sale"},bKash.init({paymentMode:"checkout",paymentRequest:me,createRequest:function(t){if("bkash"!=ue)return!1;null!=he?Ie(t):e("#bKashFrameWrapper").css({position:""})},executeRequestOnAuthorization:function(){e.ajax({url:ge.executeCheckoutURL,type:"GET",data:{_paymentID:_e,gateway:he.gateway,package:he.package,billing_data:"No billing data yet"},contentType:"application/json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){if(t){if(t&&"success"==t.status)window.location.href=t.success_url;else if(bKash.execute().onError(),t.response.hasOwnProperty("errorCode")){var a=t.response.errorCode;swal({title:o.payment_failed,type:"warning",text:o.bkash_error_message[a],confirmButtonText:o.modal_popup.ok_btn_label})}}else e.ajax({url:ge.queryPaymentURL,type:"GET",data:{_paymentID:_e,gateway:he.gateway,package:he.package,billing_data:"No billing data yet"},contentType:"application/json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(e){if(e)if(e&&"success"==e.status)window.location.href=e.success_url;else if(e.response.hasOwnProperty("errorCode")){var t=e.response.errorCode;swal({title:o.payment_failed,type:"warning",text:o.bkash_error_message[t],confirmButtonText:o.modal_popup.ok_btn_label})}}});e(".payment-button-holder").find(".payment-button-selection").remove(),e(".payment-button-holder").find(".od-loader-small").remove()},error:function(){bKash.execute().onError()}})}})}e(".od-count").length>0&&e(".od-count").each((function(){e(this).prop("Counter",0).animate({Counter:e(this).text()},{duration:4e3,easing:"swing",step:function(t){t=Number(Math.ceil(t)).toLocaleString("en"),e(this).text(t)}})})),e(".close-notification").length>0&&e(".close-notification").on("click",(function(t){t.preventDefault();var n=e(this);swal({title:"",text:o.notification_remove_message,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},(function(t){t&&e.ajax({url:a.base_url+"/ajax/remove_notification",type:"POST",data:{id:n.data("id")},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){"success"==t.status&&(e.toast({type:"success",autoDismiss:!0,message:o.notification_remove_success_message}),setTimeout((function(){window.location.href=window.location.href}),1500))}}),swal.close()}))})),e(".od-search-fields .od-button").length>0&&e(".od-search-fields .od-button").on("click",(function(){var t="";e(".od-search-option .od-biodata-search-control").each((function(){if(e(this).hasClass("dropdown-field"))t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+e(this).val())+"&";else if(e(this).hasClass("search-filter-range-slider"))t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+e(this).parent(".od-search-option-input").find(".od-hf-filter-range-slider-value").val())+"&";else if(e(this).hasClass("od-location-dropdown")&&e(this).find(".od-location-dropdown-trigger-close").length>0){var a="country";e(this).find(".od-selected-location").length>0&&e(this).find(".od-selected-location").attr("data-target")&&(a=e(this).find(".od-selected-location").attr("data-target")),t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+p)+"&lt="+encodeURIComponent(a)+"&"}})),t&&(t=t.replace(/&\s*$/,"")),e("#biodata_search_url").length>0&&e("#biodata_search_url").val().length>0&&t&&(window.location.href=e("#biodata_search_url").val()+"?"+t)})),e(".od-uploader-panel-wrap").length>0&&(e(".od-uploader-panel-wrap").on("click",(function(){e(".od-image-uploader").trigger("click")})),e("body").on("change",".od-image-uploader",(function(){var t=e(this),n=e(this).prop("files")[0],i=new FormData;i.append("file",n);var d=e(".od-uploader-container");if(t.parents(".od-uploader-container").find(".od-error").length>0&&t.parents(".od-uploader-container").find(".od-error").remove(),Math.round(n.size/1024)>5080)return t.parents(".od-uploader-container").find(".od-uploader-panel-wrap").after('<p class="od-error">'+o.image_size_validation+"</p>"),!1;d.length>0&&(d.find(".od-uploader-panel-wrap").after('<div class="od-loader-small"></div>'),d.css({"pointer-events":"none"})),e.ajax({url:a.base_url+"/ajax/upload_image",type:"POST",contentType:!1,processData:!1,dataType:"json",data:i,headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(n){if(d.length>0&&(d.find(".od-loader-small").remove(),d.removeAttr("style")),"error"==n.status)t.parents(".od-uploader-container").find(".od-uploader-panel-wrap").after('<p class="od-error">'+n.message+"</p>");else if("success"==n.status){var i=t.parents(".od-uploader-container").find(".od-error"),s=t.parents(".od-uploader-container").find('input[type="hidden"]'),r=t.parents(".od-uploader-container").find(".od-uploaded-image-visibility-container");if(e(i).remove(),e(s).val(n.filename),r.find("img").length>0)r.find("img").attr("src",a.uploads_base_url+n.filename);else{var l="";l+='<div class="od-display-flex">',l+='<div class="od-image-visible-area">',l+='<img src="'+a.uploads_base_url+n.filename+'">',l+="</div>",l+='<div><a class="od-image-remove" href="">'+o.remove_image+"</a></div>",l+="</div>",r.append(l),ve()}"none"==r.css("display")&&r.show()}}})})));var ve=function(){e(".od-image-remove").length>0&&e(".od-image-remove").on("click",(function(t){t.preventDefault(),e(this).parents(".od-uploader-container").find(".od-hf-upload-image").val(""),e(this).parents(".od-uploaded-image-visibility-container").hide(),e(this).parents(".od-uploaded-image-visibility-container").html("")}))};ve();var be=function(t){t.preventDefault();var a=e(".od-send-new-mobile-verify-code");Te(c.country_code,c.mobile_number,null,a,"resend_event")},ye=function(t){t.preventDefault();var a=e(".od-send-new-email-verify-code");Se(c.email_address,null,a,"resend_event")},we=function(){var t=e(".od-get-code-btn"),a=t.parent().find("input[type='tel']");if(""==a.val()||null==a.val())return a.css({border:"1px solid #f22613"}),!1;Te(t.parents(".mobile-otp-container").find("#country_code").val(),a.val(),a,t,"first_event")};e(".od-get-code-btn").length>0&&e(".od-get-code-btn").on("click",we);var xe=function(){var t=e(".od-get-email-code").parent().find("input[type='text']");if(""==t.val()||null==t.val())return t.css({border:"1px solid #f22613"}),!1;Se(t.val(),t,e(".od-get-email-code"),"first_event")};e(".od-get-email-code").length>0&&e(".od-get-email-code").on("click",xe);var ke=function(){var t=e(".od-verify-mobile-otp").parents(".od-mobile-otp-verify-container").find('input[type="text"]');if(""==t.val()||null==t.val())return t.css({border:"1px solid #f22613"}),!1;De(t,e(".od-verify-mobile-otp"))},Ce=function(){var t=e(".od-verify-email-otp").parents(".od-email-otp-verify-container").find('input[type="text"]');if(""==t.val()||null==t.val())return t.css({border:"1px solid #f22613"}),!1;Oe(t,e(".od-verify-email-otp"))},Te=function(t,n,i,d,s){d.css({"pointer-events":"none"}),"first_event"==s&&d.off("click",we),"resend_event"==s&&d.off("click",be),e.ajax({url:a.base_url+"/ajax/verify/mobile_number",type:"POST",data:{country_code:t,mobile_number:n,source:e("#source").val()},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(a){if(!a)return!1;if(e(".mobile-otp-container").find(".od-code-message").length>0&&e(".mobile-otp-container").find(".od-code-message").remove(),"success"==a.status)if(i&&!a.is_already_verified){c.mobile_number=n,c.country_code=t;var r=`<span>${o.verification_code_message}</span> <a href="#" class="od-send-new-mobile-verify-code">${o.send_new_code}</a>`,l=`<div class="od-form-group-input od-mobile-otp-verify-container"> \n                        <input type="text" name="mobile_otp" class="od-form-control has-btn" placeholder="${o.enter_6_digit_code}">\n                        <button type="button" class="get-code-btn od-verify-otp od-verify-mobile-otp">${o.verify_label}</button></div>`;i.parents(".mobile-otp-container").append(l),i.parents(".mobile-otp-container").append(`<p style="color: #00C875; padding-top:5px;" class="od-resend-message">${r}</p>`),i.parents(".mobile-otp-container").find(".od-full-mobile-otp-container").remove(),e(".od-send-new-mobile-verify-code").length>0&&e(".od-send-new-mobile-verify-code").on("click",be),e(".od-verify-mobile-otp").length>0&&e(".od-verify-mobile-otp").on("click",ke)}else i&&(i.parents(".mobile-otp-container").append(`<p style="color: #155724; padding-top:5px;" class="od-already-verified-message">${a.message}</p>`),i.parents(".mobile-otp-container").find(".od-full-mobile-otp-container").remove());else a.source&&"apply_expire"==a.source&&e(".mobile-otp-container").find(".od-resend-message").remove(),e(".mobile-otp-container").append(`<p style="color: #f22613; padding-top:5px;" class="od-code-message">${a.message}</p>`);d&&(d.css({"pointer-events":""}),"first_event"==s&&d.on("click",we),"resend_event"==s&&d.on("click",be))},error:function(){}})},Se=function(t,n,i,d){i.css({"pointer-events":"none"}),"first_event"==d&&i.off("click",xe),"resend_event"==d&&i.off("click",ye),e.ajax({url:a.base_url+"/ajax/verify/email",type:"POST",data:{email:t,source:e("#source").val()},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(a){if(!a)return!1;if(e(".email-otp-container").find(".od-code-message").length>0&&e(".email-otp-container").find(".od-code-message").remove(),"success"==a.status)if(n&&!a.is_already_verified){c.email_address=t;var s=`${o.verification_code_message_in_email} <a href="#" class="od-send-new-email-verify-code">${o.send_new_code}</a>`,r=`<div class="od-form-group-input od-email-otp-verify-container"> \n                        <input type="text" name="email_otp" class="od-form-control has-btn" placeholder="${o.enter_6_digit_code}">\n                        <button type="button" class="get-code-btn od-verify-otp od-verify-email-otp">${o.verify_label}</button></div>`;n.parents(".email-otp-container").append(r),n.parents(".email-otp-container").append(`<p style="color: #00C875; padding-top:5px;" class="od-resend-message">${s}</p>`),n.parents(".email-otp-container").find(".od-full-email-otp-container").remove(),e(".od-send-new-email-verify-code").length>0&&e(".od-send-new-email-verify-code").on("click",ye),e(".od-verify-email-otp").length>0&&e(".od-verify-email-otp").on("click",Ce)}else n&&(n.parents(".email-otp-container").append(`<p style="color: #155724; padding-top:5px;" class="od-already-verified-message">${a.message}</p>`),n.parents(".email-otp-container").find(".od-full-email-otp-container").remove());else a.source&&"apply_expire"==a.source&&e(".email-otp-container").find(".od-resend-message").remove(),e(".email-otp-container").append(`<p style="color: #f22613; padding-top:5px;" class="od-code-message">${a.message}</p>`);i&&(i.css({"pointer-events":""}),"first_event"==d&&i.on("click",xe),"resend_event"==d&&i.on("click",ye))},error:function(){}})},De=function(t,o){o.css({"pointer-events":"none"}),o.off("click",ke),e.ajax({url:a.base_url+"/ajax/verify/mobile_number_by_otp",type:"POST",data:{country_mobile_code:c.country_code,mobile_number:c.mobile_number,otp_code:t.val(),source:e("#source").val()},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(a){if(!a)return!1;if(e(".mobile-otp-container").find(".od-verify-message").length>0&&e(".mobile-otp-container").find(".od-verify-message").remove(),e(".mobile-otp-container").find(".od-code-message").length>0&&e(".mobile-otp-container").find(".od-code-message").remove(),"success"==a.status){var n=t.parents(".mobile-otp-container").find(".od-mobile-otp-verify-container");n.html(""),e(".mobile-otp-container").find(".od-resend-message").remove(),n.append(`<p class="od-verify-message" style="color: #155724; padding-top:5px; padding-bottom:10px;">${a.message}</p>`)}else t.parents(".mobile-otp-container").find(".od-mobile-otp-verify-container").append(`<p class="od-verify-message" style="color: #f22613; padding-top:5px; padding-bottom:10px;">${a.message}</p>`),o&&(o.css({"pointer-events":""}),o.on("click",ke))},error:function(){}})},Oe=function(t,o){o.css({"pointer-events":"none"}),o.off("click",Ce),e.ajax({url:a.base_url+"/ajax/verify/email_address_by_otp",type:"POST",data:{email_address:c.email_address,otp_code:t.val(),source:e("#source").val()},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(a){if(!a)return!1;if(e(".email-otp-container").find(".od-verify-message").length>0&&e(".email-otp-container").find(".od-verify-message").remove(),e(".email-otp-container").find(".od-code-message").length>0&&e(".email-otp-container").find(".od-code-message").remove(),"success"==a.status){var n=t.parents(".email-otp-container").find(".od-email-otp-verify-container");n.html(""),e(".email-otp-container").find(".od-resend-message").remove(),n.append(`<p class="od-verify-message" style="color: #155724; padding-top:5px; padding-bottom:10px;">${a.message}</p>`)}else t.parents(".email-otp-container").find(".od-email-otp-verify-container").append(`<p class="od-verify-message" style="color: #f22613; padding-top:5px; padding-bottom:10px;">${a.message}</p>`),o&&(o.css({"pointer-events":""}),o.on("click",Ce))},error:function(){}})},Ee=document.getElementById("promotional_modal");if(null!=Ee&&void 0!==Ee&&"undefined"!=typeof modal_expires&&modal_expires&&modal_expires>0){var Re=document.getElementsByClassName("promotional-close")[0];""==function(e){for(var t=e+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){for(var n=a[o];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}("__set_od_promotional_modal_expires")&&(Ee.style.display="block"),Re.onclick=function(){var e=168;"undefined"!=typeof modal_expires&&modal_expires&&modal_expires>0&&(e=modal_expires),function(e){var t=new Date,a=60*parseInt(e);t.setTime(t.getTime()+60*a*1e3);var o="expires="+t;document.cookie="__set_od_promotional_modal_expires=1;"+o+";path=/"}(e),Ee.style.display="none"},window.onclick=function(e){e.target==Ee&&(Ee.style.display="none")}}}(jQuery);